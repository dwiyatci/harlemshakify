!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.harlemshakify=t()}(this,function(){"use strict";return function(){function e(e){var t=function(e){return{height:e.offsetHeight,width:e.offsetWidth}}(e);return t.height>r&&t.height<s&&t.width>i&&t.width<d}function t(e){var t=function(e){for(var t=e,n=0;t;)n+=t.offsetTop,t=t.offsetParent;return n}(e);return t>=b&&t<=w+b}function n(){for(var e=document.getElementsByClassName(u),t=new RegExp("\\b"+u+"\\b");0<e.length;)e[0].className=e[0].className.replace(t,"")}var o,a,r=30,i=30,s=350,d=350,m="//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.ogg",u="mw-harlem_shake_me",c="mw-harlem_shake_slow",l="im_first",f=["im_drunk","im_baked","im_trippin","im_blown"],h="mw-strobe_light",p="//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css",g="mw_added_css",w=function(){var e=document.documentElement;return window.innerWidth?window.innerHeight:e&&!isNaN(e.clientHeight)?e.clientHeight:0}(),b=window.pageYOffset?window.pageYOffset:Math.max(document.documentElement.scrollTop,document.body.scrollTop),y=document.getElementsByTagName("*"),v=y.length,E=null;for(o=0;o<v;o++)if(a=y[o],e(a)&&t(a)){E=a;break}if(null!==a){!function(){var e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",p),e.setAttribute("class",g),document.body.appendChild(e)}(),function(){var e=document.createElement("audio");e.setAttribute("class",g),e.src=m,e.loop=!1;var t=!1,o=!1,a=!1;e.addEventListener("timeupdate",function(){var r,i=e.currentTime,s=N,d=s.length;if(i>=.5&&!t&&(t=!0,function(e){e.className+=" "+u+" "+l}(E)),i>=15.5&&!o)for(o=!0,n(),function(){var e=document.createElement("div");e.setAttribute("class",h),document.body.appendChild(e),setTimeout(function(){document.body.removeChild(e)},100)}(),r=0;r<d;r++)!function(e){e.className+=" "+u+" "+f[Math.floor(Math.random()*f.length)]}(s[r]);e.currentTime>=28.4&&!a&&(a=!0,function(){for(var e=document.getElementsByClassName(u);0<e.length;)e[0].className=e[0].className.replace(u,c);u=c}())},!0),e.addEventListener("ended",function(){n(),function(){for(var e=document.getElementsByClassName(g),t=0;t<e.length;t++)document.body.removeChild(e[t])}()},!0),e.innerHTML="<p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p>",document.body.appendChild(e),e.play()}();var N=[];for(o=0;o<v;o++)e(a=y[o])&&N.push(a)}else console.warn("Could not find a node of the right size. Please try a different page.")}});
